{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yonil\\\\my-app\\\\src\\\\pages\\\\test\\\\FileUpload.jsx\";\n// import React, { Component } from 'react'\n// import UserDataService from '@api/user/UserDataService.js'\n// import DateHelpers from '@utils/helpers/DateHelpers.js'\n// class FileUpload extends Component {\n//   constructor(props) {\n//     super(props);\n//     this.state ={\n//       file:  null,\n//       image: null,\n//       flag:  false,\n//       date:  DateHelpers.getTodayEighteenYearsAgo(),\n//     }\n//     this.onFormSubmit = this.onFormSubmit.bind(this)\n//     this.onChange = this.onChange.bind(this)\n//     this.fileUpload = this.fileUpload.bind(this)\n//   }\n//   componentDidMount(){\n//     this.refresh()\n//   }\n//   refresh = async ()=>{\n//      const res = await UserDataService.getImages(1);\n//      this.setState({\n//                image: res.data[0].content,\n//                flag: true\n//       })\n//   }\n//   onFormSubmit(e){\n//     e.preventDefault() // Stop form submit\n//     this.fileUpload(this.state.file); \n//     let x=0;\n//   }\n//   onChange(e) {\n//     console.log(e.target.files[0])\n//     this.setState({file:e.target.files[0]})\n//   }\n//   async fileUpload(file){\n//     const formData = new FormData();\n//     formData.append('image',file)\n//     await UserDataService.uploadImage(1,formData)\n//   }\n//   render() {\n//     let data = this.state.image\n//     const Example = ({ data }) => <img src={`data:image/jpeg;base64,${data}`} />\n//     return (\n//       <>\n//              {this.state.flag && <Example data={data} />}\n//               <form onSubmit={this.onFormSubmit}>\n//                 <h1>File Upload</h1>\n//                 <input type=\"file\" onChange={this.onChange}/>\n//                 <button as=\"input\" type=\"submit\">Upload</button>\n//               </form>\n//       </>\n//    )\n//   }\n// }\n// export default FileUpload\nimport React, { Component } from 'react';\nimport UserDataService from '@api/user/UserDataService.js';\nimport AuthenticationService from '@services/AuthenticationService.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass FileUpload extends Component {\n  constructor(props) {\n    super(props);\n\n    this.refresh = async () => {\n      const res = await UserDataService.getImages(this.state.id);\n      this.setState({\n        image: res.data[0].content,\n        flag: true\n      });\n    };\n\n    this.state = {\n      id: AuthenticationService.getLoggedInUserId(),\n      file: null,\n      image: null,\n      flag: false\n    };\n  }\n\n  componentDidMount() {\n    this.refresh();\n  }\n\n  render() {\n    let image = this.state.image;\n\n    const ViewImage = ({\n      image\n    }) => /*#__PURE__*/_jsxDEV(\"img\", {\n      src: `data:image/jpeg;base64,${image}`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 38\n    }, this);\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [this.state.flag && /*#__PURE__*/_jsxDEV(ViewImage, {\n        image: image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"image_1\",\n        onChange: this.props.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        name: \"image_2\",\n        onChange: this.props.handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 14\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default FileUpload;","map":{"version":3,"sources":["C:/Users/yonil/my-app/src/pages/test/FileUpload.jsx"],"names":["React","Component","UserDataService","AuthenticationService","FileUpload","constructor","props","refresh","res","getImages","state","id","setState","image","data","content","flag","getLoggedInUserId","file","componentDidMount","render","ViewImage","handleChange"],"mappings":";AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAIA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,eAAP,MAA4B,8BAA5B;AACA,OAAOC,qBAAP,MAAkC,oCAAlC;;;;AAGA,MAAMC,UAAN,SAAyBH,SAAzB,CAAmC;AAEjCI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AAEjB,UAAMA,KAAN;;AAFiB,SAiBnBC,OAjBmB,GAiBT,YAAU;AAEjB,YAAMC,GAAG,GAAG,MAAMN,eAAe,CAACO,SAAhB,CAA0B,KAAKC,KAAL,CAAWC,EAArC,CAAlB;AAEA,WAAKC,QAAL,CAAc;AACJC,QAAAA,KAAK,EAAEL,GAAG,CAACM,IAAJ,CAAS,CAAT,EAAYC,OADf;AAEJC,QAAAA,IAAI,EAAE;AAFF,OAAd;AAKF,KA1BkB;;AAIjB,SAAKN,KAAL,GAAY;AACVC,MAAAA,EAAE,EAAER,qBAAqB,CAACc,iBAAtB,EADM;AAEVC,MAAAA,IAAI,EAAG,IAFG;AAGVL,MAAAA,KAAK,EAAE,IAHG;AAIVG,MAAAA,IAAI,EAAG;AAJG,KAAZ;AAOD;;AAEDG,EAAAA,iBAAiB,GAAE;AACjB,SAAKZ,OAAL;AACD;;AAaDa,EAAAA,MAAM,GAAG;AAEP,QAAIP,KAAK,GAAG,KAAKH,KAAL,CAAWG,KAAvB;;AAEA,UAAMQ,SAAS,GAAG,CAAC;AAAER,MAAAA;AAAF,KAAD,kBAAe;AAAK,MAAA,GAAG,EAAG,0BAAyBA,KAAM;AAA1C;AAAA;AAAA;AAAA;AAAA,YAAjC;;AAEA,wBAEE;AAAA,iBAEQ,KAAKH,KAAL,CAAWM,IAAX,iBAAmB,QAAC,SAAD;AAAW,QAAA,KAAK,EAAIH;AAApB;AAAA;AAAA;AAAA;AAAA,cAF3B,eAGO;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,SAAxB;AAAkC,QAAA,QAAQ,EAAE,KAAKP,KAAL,CAAWgB;AAAvD;AAAA;AAAA;AAAA;AAAA,cAHP,eAIO;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,IAAI,EAAC,SAAxB;AAAkC,QAAA,QAAQ,EAAE,KAAKhB,KAAL,CAAWgB;AAAvD;AAAA;AAAA;AAAA;AAAA,cAJP;AAAA,oBAFF;AAWD;;AA/CgC;;AAkDnC,eAAelB,UAAf","sourcesContent":["// import React, { Component } from 'react'\r\n// import UserDataService from '@api/user/UserDataService.js'\r\n// import DateHelpers from '@utils/helpers/DateHelpers.js'\r\n\r\n// class FileUpload extends Component {\r\n\r\n//   constructor(props) {\r\n//     super(props);\r\n//     this.state ={\r\n//       file:  null,\r\n//       image: null,\r\n//       flag:  false,\r\n//       date:  DateHelpers.getTodayEighteenYearsAgo(),\r\n//     }\r\n    \r\n//     this.onFormSubmit = this.onFormSubmit.bind(this)\r\n//     this.onChange = this.onChange.bind(this)\r\n//     this.fileUpload = this.fileUpload.bind(this)\r\n\r\n//   }\r\n  \r\n//   componentDidMount(){\r\n//     this.refresh()\r\n//   }\r\n\r\n//   refresh = async ()=>{\r\n \r\n//      const res = await UserDataService.getImages(1);\r\n\r\n//      this.setState({\r\n//                image: res.data[0].content,\r\n//                flag: true\r\n//       })\r\n  \r\n//   }\r\n\r\n//   onFormSubmit(e){\r\n//     e.preventDefault() // Stop form submit\r\n//     this.fileUpload(this.state.file); \r\n//     let x=0;\r\n//   }\r\n\r\n//   onChange(e) {\r\n//     console.log(e.target.files[0])\r\n//     this.setState({file:e.target.files[0]})\r\n//   }\r\n  \r\n//   async fileUpload(file){\r\n//     const formData = new FormData();\r\n//     formData.append('image',file)\r\n//     await UserDataService.uploadImage(1,formData)\r\n//   }\r\n  \r\n//   render() {\r\n\r\n//     let data = this.state.image\r\n\r\n//     const Example = ({ data }) => <img src={`data:image/jpeg;base64,${data}`} />\r\n\r\n\r\n//     return (\r\n\r\n//       <>\r\n//              {this.state.flag && <Example data={data} />}\r\n//               <form onSubmit={this.onFormSubmit}>\r\n//                 <h1>File Upload</h1>\r\n//                 <input type=\"file\" onChange={this.onChange}/>\r\n//                 <button as=\"input\" type=\"submit\">Upload</button>\r\n//               </form>\r\n        \r\n//       </>\r\n//    )\r\n//   }\r\n// }\r\n\r\n// export default FileUpload\r\n\r\n\r\n\r\nimport React, { Component } from 'react'\r\nimport UserDataService from '@api/user/UserDataService.js'\r\nimport AuthenticationService from '@services/AuthenticationService.js'\r\n\r\n\r\nclass FileUpload extends Component {\r\n\r\n  constructor(props) {\r\n\r\n    super(props);\r\n\r\n    this.state ={\r\n      id: AuthenticationService.getLoggedInUserId(),\r\n      file:  null,\r\n      image: null,\r\n      flag:  false,\r\n    }\r\n    \r\n  }\r\n  \r\n  componentDidMount(){\r\n    this.refresh()\r\n  }\r\n\r\n  refresh = async ()=>{\r\n \r\n     const res = await UserDataService.getImages(this.state.id);\r\n\r\n     this.setState({\r\n               image: res.data[0].content,\r\n               flag: true\r\n      })\r\n  \r\n  }\r\n\r\n  render() {\r\n\r\n    let image = this.state.image\r\n\r\n    const ViewImage = ({ image }) => <img src={`data:image/jpeg;base64,${image}`} />\r\n\r\n    return (\r\n\r\n      <>\r\n\r\n             {this.state.flag && <ViewImage image = {image} />}\r\n             <input type=\"file\" name=\"image_1\" onChange={this.props.handleChange}/>\r\n             <input type=\"file\" name=\"image_2\" onChange={this.props.handleChange}/>\r\n\r\n      </>\r\n    )\r\n\r\n  }\r\n}\r\n\r\nexport default FileUpload\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}